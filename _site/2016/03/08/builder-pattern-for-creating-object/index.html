<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Builder pattern for creating object &middot; DGStack
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css?_c=20160501.2">
  <link rel="stylesheet" href="/public/css/syntax.css?_c=20160501.2">
  <link rel="stylesheet" href="/public/css/hyde.css?_c=20160501.2">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          DGStack
        </a>
      </h1>
      <p class="lead">This blog is about computer programming tips, trick and some short tutorials</p>
      <div>
        <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fdgstack&width=450&layout=standard&action=like&show_faces=true&share=true&height=80&appId=978779875510857" width="180" height="80" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item dontshow" target="_blank" href="https://github.com/dgstack//archive/v2.1.0.zip">Download</a>
      <a class="sidebar-nav-item" target="_blank" href="https://github.com/dgstack/">GitHub project</a>
      <span class="sidebar-nav-item">Currently v2.1.0</span>
    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>

    <div class="content container">
      <div class="post">
  <h1 class="post-title" style="text-align: left;">Builder pattern for creating object</h1>
  <span class="post-date">
    On 08 Mar 2016 by <a href="https://github.com/digvijaybhakuni" target="_blank">digvijayb</a>
    | 
      
        <span class="tagdgs">Builder Pattern</span>
      
        <span class="tagdgs">Java</span>
      
  </span>
  <p>There are number of creational patterns which are use to create instances of class, but were builder pattern fit in and stand out from other creational pattern like static factory, telescoping constructor, javabean pattern and other&#39;s. Is its ability to scale with a large number of parameters. So let&#39;s get started with an example.</p>

<p>Let&#39;s consider a case where we have to create object of a Product class with several field like name, description, sellPrice, costPrice, maxRetailPrice, discount and brand. For selling a product name, sellPrice and description are mandatory field, a product object is incomplete without these three information.So we are going to implement builder pattern in this case to incur the problem.</p>

<p>Instead of making the desired object directly, the client calls a constructor (or static factory) with all of the required parameters and gets a builder object. Then the client calls setter-like methods on the builder object to set each optional parameter of interest. Finally, the client calls a parameterless build method to generate the object, which is immutable. The builder is a static member class of the class it builds.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dgstack</span><span class="o">.</span><span class="na">blog</span><span class="o">.</span><span class="na">pattern</span><span class="o">.</span><span class="na">creation</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">description</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">brand</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">sellPrice</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">costPrice</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">maxRetialPrice</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">float</span> <span class="n">discount</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Builder</span><span class="o">{</span>
        <span class="c1">//mandatory field</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">description</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">sellPrice</span><span class="o">;</span>

        <span class="c1">//option field</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">brand</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">double</span> <span class="n">costPrice</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">double</span> <span class="n">maxRetialPrice</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">float</span> <span class="n">discount</span> <span class="o">=</span> <span class="mf">0.0</span><span class="n">F</span><span class="o">;</span>

        <span class="kd">public</span> <span class="n">Builder</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">description</span><span class="o">,</span> <span class="kt">double</span> <span class="n">sellPrice</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">sellPrice</span> <span class="o">=</span> <span class="n">sellPrice</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="n">brand</span><span class="o">(</span><span class="n">String</span> <span class="n">brand</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">brand</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="n">costPrice</span><span class="o">(</span><span class="kt">double</span> <span class="n">costPrice</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">costPrice</span> <span class="o">=</span> <span class="n">costPrice</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">Builder</span> <span class="n">maxRetialPrice</span><span class="o">(</span><span class="kt">double</span> <span class="n">maxRetialPrice</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">maxRetialPrice</span> <span class="o">=</span> <span class="n">maxRetialPrice</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="n">Builder</span> <span class="n">discount</span><span class="o">(</span><span class="kt">float</span> <span class="n">discount</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">discount</span> <span class="o">=</span> <span class="n">discount</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Product</span> <span class="n">build</span><span class="o">(){</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="kd">private</span> <span class="n">Product</span><span class="o">(</span><span class="n">Builder</span> <span class="n">builder</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">description</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">brand</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">sellPrice</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">sellPrice</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">costPrice</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">costPrice</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">maxRetialPrice</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">maxRetialPrice</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">discount</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">discount</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure>

<p>Now we look at client code (or calling code). </p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">BuilderClient</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">builderClient</span><span class="o">(){</span>
        <span class="cm">/**  Some Code */</span>
        
        <span class="c1">//fill in the required field</span>
        <span class="n">Product</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> 
            <span class="o">=</span> <span class="k">new</span> <span class="n">Product</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="s">"iPhone5"</span><span class="o">,</span> <span class="s">"iPhone 5C"</span><span class="o">,</span> <span class="mf">499.90</span><span class="o">);</span>
        
        <span class="c1">//chaining is done as it return itself</span>
        <span class="n">builder</span><span class="o">.</span><span class="na">brand</span><span class="o">(</span><span class="s">"apple"</span><span class="o">).</span><span class="na">maxRetialPrice</span><span class="o">(</span><span class="mf">699.99</span><span class="o">);</span>
        
        <span class="c1">// building the immutable object of product iphone</span>
        <span class="n">Product</span> <span class="n">iPhone</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span> 
        
        <span class="cm">/*** Some Code that use iPhone object*/</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>For more in on the topic refer to : </p>

<ul>
<li>Design Patterns: Elements of Reusable Object-Oriented Software aka Gang of Four (GOF).</li>
<li>Effective Java by Joshua Bloch</li>
</ul>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/08/15/Spring-Annotation-Ref/">
            Spring Annotation Ref
            <small>15 Aug 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/07/15/Python3-Vs-Python2/">
            Python3 vs Python2
            <small>15 Jul 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/05/22/JVM-Lang-era/">
            Era of JVM language
            <small>22 May 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
<div class="comment-dgstack">
  <div id="disqus_thread"></div>
    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
      
        var disqus_config = function () {
            this.page.url = "http://dgstack.com/2016/03/08/builder-pattern-for-creating-object/";  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = "/2016/03/08/builder-pattern-for-creating-object" ; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        
        (function() {  // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            
            s.src = '//dgstack.disqus.com/embed.js';
            
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>


<div id="disclamer">
    <h4>Disclamer</h4>
    <p>
      This website claims no credit for any images posted on this site unless otherwise noted. Images on this blog are copyright to its respectful owners. If there is an image appearing on this blog that belongs to you and do not wish for it appear on this site, please E-mail with a link to said image and it will be promptly removed. And the information is best of my knowledge one can always write comment or mail regarding information is this blog.
    </p>
</div>

    </div>

  </body>
</html>
