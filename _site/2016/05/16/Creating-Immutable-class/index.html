<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Creating Immutable Class &middot; DGStack
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css?_c=20160501.2">
  <link rel="stylesheet" href="/public/css/syntax.css?_c=20160501.2">
  <link rel="stylesheet" href="/public/css/hyde.css?_c=20160501.2">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          DGStack
        </a>
      </h1>
      <p class="lead">This blog is about computer programming tips, trick and some short tutorials</p>
      <div>
        <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fdgstack&width=450&layout=standard&action=like&show_faces=true&share=true&height=80&appId=978779875510857" width="180" height="80" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item dontshow" target="_blank" href="https://github.com/dgstack//archive/v2.1.0.zip">Download</a>
      <a class="sidebar-nav-item" target="_blank" href="https://github.com/dgstack/">GitHub project</a>
      <span class="sidebar-nav-item">Currently v2.1.0</span>
    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>

    <div class="content container">
      <div class="post">
  <h1 class="post-title" style="text-align: left;">Creating Immutable Class</h1>
  <span class="post-date">
    On 16 May 2016 by <a href="https://github.com/digvijaybhakuni" target="_blank">digvijayb</a>
    | 
      
        <span class="tagdgs">Java</span>
      
        <span class="tagdgs">immutable</span>
      
  </span>
  <h2>How to create immutable class</h2>

<p>Immutable Classes are those who’s object once created it can’t be change (or value can’t change).
So to create Immutable Class in java there are some simple that are listed below.</p>

<h3>Rules for immutable class:</h3>

<ul>
<li>No setter should provide for the field.</li>
<li>All field should be final and private.</li>
<li>Make the class final as an immutable class should not be inherited or an another for this could be to make the constructor private and construct instances in factory methods.</li>
<li>If there is any field which is a references to mutable objects make sure that it should not be modified : 

<ul>
<li>Don’t provide methods that modify the mutable objects. </li>
<li>Don’t share references to the mutable objects. Always create a copy of the object and provide that for any operation.</li>
</ul></li>
</ul>

<h3>Sample of Immutable Class</h3>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.Date</span>

<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">ImmutableSample</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">intField</span><span class="o">;</span> <span class="c1">// Is value type </span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">stringField</span><span class="o">;</span><span class="c1">// Is Immutable</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Date</span> <span class="n">dateField</span><span class="o">;</span><span class="c1">// Is mutable</span>

    <span class="kd">private</span> <span class="n">ImmutableSample</span><span class="o">(</span><span class="kt">int</span> <span class="n">intField</span><span class="o">,</span> <span class="n">String</span> <span class="n">stringField</span><span class="o">,</span> <span class="n">Date</span> <span class="n">dateField</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">intField</span> <span class="o">=</span> <span class="n">intField</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">stringField</span> <span class="o">=</span> <span class="n">stringField</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">dateField</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">(</span><span class="n">dateField</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
    <span class="o">}</span>


    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ImmutableSample</span> <span class="n">getInstance</span><span class="o">(</span><span class="kt">int</span> <span class="n">intField</span><span class="o">,</span> <span class="n">String</span> <span class="n">stringField</span><span class="o">,</span> <span class="n">Date</span> <span class="n">dateField</span><span class="o">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">ImmutableSample</span><span class="o">(</span><span class="n">fld1</span><span class="o">,</span> <span class="n">fld2</span><span class="o">,</span> <span class="n">date</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//Provide no setter methods</span>

    <span class="cm">/**
    * int is value type variable, So the value in intField going change every 
    * */</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">getIntField</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">intField</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
    * String class is also immutable so we can return the instance variable as it is
    * */</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">getStringField</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">stringField</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**
    * As Date field is mutable so we create a copy of dateField. So that modification will not effect dateField.
    * */</span>
    <span class="kd">public</span> <span class="n">Date</span> <span class="n">getDateField</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Date</span><span class="o">(</span><span class="n">dateField</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">intField</span> <span class="o">+</span><span class="s">" - "</span><span class="o">+</span> <span class="n">stringField</span> <span class="o">+</span><span class="s">" - "</span><span class="o">+</span> <span class="n">dateField</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div>
<h2>Some advantage of Immutable Object</h2>

<ul>
<li>They are thread-safe so don’t have and synchronization issues.</li>
<li>They can be best use in Map’s key and Set’s element.</li>
<li>It easier to parallelize your program as there are no conflicts among immutable objects.</li>
<li>They have their class invariant established once upon construction, and it never needs to be checked again</li>
</ul>

<p>Please do comment and suggest</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/05/22/JVM-Lang-era/">
            Era of JVM language
            <small>22 May 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/05/07/Hello-World-With-Mustache/">
            Hello World With Mustache.java
            <small>07 May 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/03/08/builder-pattern-for-creating-object/">
            Builder pattern for creating object
            <small>08 Mar 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
<div class="comment-dgstack">
  <div id="disqus_thread"></div>
    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
      
        var disqus_config = function () {
            this.page.url = "http://dgstack.com/2016/05/16/Creating-Immutable-class/";  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = "/2016/05/16/Creating-Immutable-class" ; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        
        (function() {  // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            
            s.src = '//dgstack.disqus.com/embed.js';
            
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>


<div id="disclamer">
    <h4>Disclamer</h4>
    <p>
      This website claims no credit for any images posted on this site unless otherwise noted. Images on this blog are copyright to its respectful owners. If there is an image appearing on this blog that belongs to you and do not wish for it appear on this site, please E-mail with a link to said image and it will be promptly removed. And the information is best of my knowledge one can always write comment or mail regarding information is this blog.
    </p>
</div>

    </div>

  </body>
</html>
