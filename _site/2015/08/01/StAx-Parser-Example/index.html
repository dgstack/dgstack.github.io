<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">

    <title>DGStack.com - StAX Parser Example</title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/assets/css/style.css" rel="stylesheet">
    <link href="/assets/css/syntax.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <!--<link rel="stylesheet" href="/css/main.css">-->


    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

    <body>
        <!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href=" / ">DGStack.com</a>
        </div>
        <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav">
                <li ><a href=" / ">BLOG</a></li>
                <li ><a href=" /category/ ">CATEGORY</a></li>
                <li ><a href=" /about/ ">ABOUT</a></li>
                <li ><a href=" /contact/ ">CONTACT</a></li>
            </ul>
            
        </div>
        <!--/.nav-collapse -->
    </div>
</div>

            <div id="blue">
    <div class="container">
        <div class="row">
            <a href="/2015/08/01/StAx-Parser-Example/"><h3 class="ctitle">StAX Parser Example</h3></a>
            <csmall style="margin-left: 20px;"></csmall>
            <span style="wrap-post-csmall"> 
                On Aug 1, 2015 by digvijayb |
            </span>
            <!-- <csmall style="margin-left: 20px;"></csmall> -->
            <span>
    <a href="https://twitter.com/intent/tweet?text=StAX Parser Example&url=http://dgstack.com/2015/08/01/StAx-Parser-Example/&via=DigvijayBhakuni&related=DGStack" class="share" rel="nofollow" target="_blank" title="Share On Twitter"><i class="fa fa-twitter"></i> Twitter</a> 
    <a href="https://facebook.com/sharer.php?u=http://dgstack.com/2015/08/01/StAx-Parser-Example/" class="share" rel="nofollow" target="_blank" title="Share On Facebok"><i class="fa fa-facebook"></i> Facebook</a>
    <a href="http://tumblr.com/widgets/share/tool?canonicalUrl=http://dgstack.com/2015/08/01/StAx-Parser-Example/" class="share" rel="nofollow" target="_blank" title="Share On Tumblr"><i class="fa fa-tumblr"></i> Tumblr</a>
    <a href="https://plus.google.com/share?url=http://dgstack.com/2015/08/01/StAx-Parser-Example/" class="share" rel="nofollow" target="_blank" title="Share On Google+"><i class="fa fa-google-plus"></i> Google+</a>
</span>
            
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->
<!-- <h3>StAX Parser Example</h3> -->
<div class="container mtb">
    <div class="row">
        <! -- SINGLE POST -->
        <div class="col-lg-9">
            <! -- Blog Post  -->
            
            <!--
            <a href="/2015/08/01/StAx-Parser-Example/"><h3 class="ctitle">StAX Parser Example</h3></a>
            <p><csmall>Aug 1, 2015. | By: digvijayb</csmall></p>
            -->  
            <h2 id="using-stax-parser">Using StAX Parser</h2>
<p>Parsing an XML Document with <strong>StAX parser</strong> which is one of the fastest way to parser document in current days. Having very <strong>less memory footprint</strong>, easy to implement then previous generation of parser like</p>

<p><a href="https://docs.oracle.com/javase/tutorial/jaxp/dom/readingXML.html" target="_blank"><strong><em>DOM</em></strong></a> (Document Object Model) parse and others. This make StAX must use API for modern day application it is fast and lightweight. So,  below we have a easy program to parse down an XML document using StAX.</p>

<p><img src="https://docs.google.com/drawings/d/1PtvXEfkpLIX-oBpnX5l0UrA1IETes-lG5VDrlp1afAY/pub?w=480&amp;h=360" alt="Overview StAX Pull Model" /></p>

<blockquote>
  <p><strong>StAX<strong> (Streaming API for XML) is an application programming interface (API) to read and write XML documents, originating from the Java programming language community. 
 It is one most fastest API to parse an XML document and very lightweight too. StAX work’s on <strong>pull</strong> style of parsing unlike to SAX parser which is <strong>push</strong> style parsing.</strong></strong></p>

</blockquote>

<!--more-->

<h3 id="feature-of-stax">Feature of StAX</h3>

<blockquote>
  <ul>
    <li>Use <strong>Pull Model</strong> approach to parser a document.</li>
    <li>Memory footprint is very small</li>
    <li>Available in <strong>JDK 1.6</strong> onward. No need of any addition jar</li>
    <li>Most <strong>efficiently access XML</strong> (especially with cursor API).</li>
    <li>Very easy to use.</li>
  </ul>
</blockquote>

<p>In the following example  an XML document contain list of user information.  And we are going to parser that XML document list of user object java.  <em>“Let’s Stack Up The Code”</em></p>

<h4 id="userxml">user.xml</h4>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;users&gt;</span>
    <span class="nt">&lt;user</span> <span class="na">id=</span><span class="s">"1"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;name&gt;</span>Digvijay Bhakuni<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;username&gt;</span>digvijayb<span class="nt">&lt;/username&gt;</span>
        <span class="nt">&lt;password&gt;</span>password1<span class="nt">&lt;/password&gt;</span>
        <span class="nt">&lt;gender&gt;</span>Male<span class="nt">&lt;/gender&gt;</span>
        <span class="nt">&lt;age&gt;</span>22<span class="nt">&lt;/age&gt;</span>
        <span class="nt">&lt;location&gt;</span>Gurgaon, India<span class="nt">&lt;/location&gt;</span>
    <span class="nt">&lt;/user&gt;</span>
    <span class="nt">&lt;user</span> <span class="na">id=</span><span class="s">"2"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;name&gt;</span>Rahul Sharma<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;username&gt;</span>rahuls<span class="nt">&lt;/username&gt;</span>
        <span class="nt">&lt;password&gt;</span>password2<span class="nt">&lt;/password&gt;</span>
        <span class="nt">&lt;gender&gt;</span>Male<span class="nt">&lt;/gender&gt;</span>
        <span class="nt">&lt;age&gt;</span>22<span class="nt">&lt;/age&gt;</span>
        <span class="nt">&lt;location&gt;</span>New Delhi, India<span class="nt">&lt;/location&gt;</span>
    <span class="nt">&lt;/user&gt;</span>
    <span class="nt">&lt;user</span> <span class="na">id=</span><span class="s">"3"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;name&gt;</span>Pankaj Bhakser<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;username&gt;</span>pbhakser<span class="nt">&lt;/username&gt;</span>
        <span class="nt">&lt;password&gt;</span>password3<span class="nt">&lt;/password&gt;</span>
        <span class="nt">&lt;gender&gt;</span>Male<span class="nt">&lt;/gender&gt;</span>
        <span class="nt">&lt;age&gt;</span>29<span class="nt">&lt;/age&gt;</span>
        <span class="nt">&lt;location&gt;</span>Gurgaon, India<span class="nt">&lt;/location&gt;</span>
    <span class="nt">&lt;/user&gt;</span>
    <span class="nt">&lt;user</span> <span class="na">id=</span><span class="s">"4"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;name&gt;</span>Pankaj Mishar<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;username&gt;</span>pankajm<span class="nt">&lt;/username&gt;</span>
        <span class="nt">&lt;password&gt;</span>password4<span class="nt">&lt;/password&gt;</span>
        <span class="nt">&lt;gender&gt;</span>Male<span class="nt">&lt;/gender&gt;</span>
        <span class="nt">&lt;age&gt;</span>23<span class="nt">&lt;/age&gt;</span>
        <span class="nt">&lt;location&gt;</span>Nodia, India<span class="nt">&lt;/location&gt;</span>
    <span class="nt">&lt;/user&gt;</span>
        <span class="nt">&lt;user</span> <span class="na">id=</span><span class="s">"5"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;name&gt;</span>Ajay Garg<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;username&gt;</span>ajayg<span class="nt">&lt;/username&gt;</span>
        <span class="nt">&lt;password&gt;</span>password5<span class="nt">&lt;/password&gt;</span>
        <span class="nt">&lt;gender&gt;</span>Male<span class="nt">&lt;/gender&gt;</span>
        <span class="nt">&lt;age&gt;</span>25<span class="nt">&lt;/age&gt;</span>
        <span class="nt">&lt;location&gt;</span>Gurgaon, India<span class="nt">&lt;/location&gt;</span>
    <span class="nt">&lt;/user&gt;</span>
<span class="nt">&lt;/users&gt;</span>
</code></pre>
</div>
<p>Now creating POJO <em>UserVO.java</em> this object will hole the value of user.</p>

<h4 id="uservojava">UserVO.java</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dgstack</span><span class="o">.</span><span class="na">dev</span><span class="o">.</span><span class="na">vo</span><span class="o">;</span>

<span class="cm">/**
 * @author digvijayb
 *
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserVO</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="n">UserVO</span><span class="o">()</span> <span class="o">{</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">userid</span><span class="o">;</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">password</span><span class="o">;</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">gender</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">location</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="n">getId</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">id</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">getUserid</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">userid</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setUserid</span><span class="o">(</span><span class="n">String</span> <span class="n">userid</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">userid</span> <span class="o">=</span> <span class="n">userid</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">getPassword</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">password</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setPassword</span><span class="o">(</span><span class="n">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">getGender</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">gender</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setGender</span><span class="o">(</span><span class="n">String</span> <span class="n">gender</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">gender</span> <span class="o">=</span> <span class="n">gender</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="n">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">getLocation</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">location</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="n">setLocation</span><span class="o">(</span><span class="n">String</span> <span class="n">location</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">location</span> <span class="o">=</span> <span class="n">location</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">toString</span><span class="o">(){</span>
		<span class="n">StringBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">(</span><span class="s">"{ "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"id : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">id</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"name : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">name</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"userid : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">userid</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"password : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">password</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"gender : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">gender</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"age : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">age</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">", "</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"location : "</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">location</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="s">" }"</span><span class="o">);</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Using StAX API to read Xml <em>StAXReader.java</em></p>

<h4 id="staxreaderjava">StAXReader.java</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dgstack</span><span class="o">.</span><span class="na">dev</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.xml.namespace.QName</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLEventReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLInputFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLStreamException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.events.Attribute</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.events.EndElement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.events.StartElement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.events.XMLEvent</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.dgstack.dev.vo.UserVO</span><span class="o">;</span>

<span class="cm">/**
 * @author digvijayb
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StAXReader</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">UserVO</span><span class="o">&gt;</span> <span class="n">getUserList</span><span class="o">(</span><span class="n">String</span> <span class="n">path</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">FileNotFoundException</span><span class="o">,</span> <span class="n">XMLStreamException</span><span class="o">{</span>
		<span class="n">StartElement</span> <span class="n">startElement</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">EndElement</span> <span class="n">endElement</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">Attribute</span> <span class="n">attribute</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">QName</span> <span class="n">idAttr</span> <span class="o">=</span><span class="k">new</span> <span class="n">QName</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span> 
		<span class="n">XMLEvent</span> <span class="n">event</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">List</span><span class="o">&lt;</span><span class="n">UserVO</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">UserVO</span> <span class="n">userVO</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">String</span> <span class="n">currentValue</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
		<span class="n">XMLInputFactory</span> <span class="n">inputFactory</span> <span class="o">=</span> <span class="n">XMLInputFactory</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
		<span class="n">XMLEventReader</span> <span class="n">reader</span>  <span class="o">=</span> <span class="n">inputFactory</span><span class="o">.</span><span class="na">createXMLEventReader</span><span class="o">(</span><span class="k">new</span>  <span class="n">FileReader</span><span class="o">(</span><span class="n">path</span><span class="o">));</span>

		<span class="k">while</span><span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
			<span class="n">event</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">nextEvent</span><span class="o">();</span>
			<span class="k">if</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">isStartElement</span><span class="o">()){</span>
				<span class="n">startElement</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">asStartElement</span><span class="o">();</span>
				<span class="k">if</span><span class="o">(</span><span class="s">"users"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">startElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">UserVO</span><span class="o">&gt;();</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"user"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">startElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span> 
					<span class="n">userVO</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserVO</span><span class="o">();</span>
					<span class="n">attribute</span> <span class="o">=</span> <span class="n">startElement</span><span class="o">.</span><span class="na">getAttributeByName</span><span class="o">(</span><span class="n">idAttr</span><span class="o">);</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">attribute</span><span class="o">.</span><span class="na">getValue</span><span class="o">()));</span>
				<span class="o">}</span>
			<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">isEndElement</span><span class="o">()){</span>
				<span class="n">endElement</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">asEndElement</span><span class="o">();</span>
				<span class="k">if</span><span class="o">(</span><span class="s">"users"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"user"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span> 
					<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">userVO</span><span class="o">);</span>
					<span class="n">userVO</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"name"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"username"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setUserid</span><span class="o">(</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"password"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"gender"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setGender</span><span class="o">(</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"age"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="k">if</span><span class="o">(!</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">()));</span>
				<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="s">"location"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">endElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">())){</span>
					<span class="n">userVO</span><span class="o">.</span><span class="na">setLocation</span><span class="o">(</span><span class="n">currentValue</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
				<span class="o">}</span>
			<span class="o">}</span><span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">isCharacters</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">userVO</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">startElement</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">asCharacters</span><span class="o">().</span><span class="na">getData</span><span class="o">()</span> <span class="o">+</span><span class="s">" "</span><span class="o">+</span><span class="n">startElement</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">getLocalPart</span><span class="o">()</span> <span class="o">);</span>
				<span class="n">currentValue</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">asCharacters</span><span class="o">().</span><span class="na">getData</span><span class="o">();</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">list</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>	
</code></pre>
</div>

<p>Call StAXReader Class from main method</p>

<h4 id="staxreaderexcejava">StAXReaderExce.java</h4>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dgstack</span><span class="o">.</span><span class="na">dev</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLStreamException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.dgstack.dev.vo.UserVO</span><span class="o">;</span>

<span class="cm">/**
 * @author digvijayb
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StAXReaderExce</span> <span class="o">{</span>

	<span class="cm">/**
	 * @param args
	 */</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="s">"/home/digvijayb/App/test/user.xml"</span><span class="o">;</span>
			<span class="n">StAXReader</span> <span class="n">stAXReader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StAXReader</span><span class="o">();</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">UserVO</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">stAXReader</span><span class="o">.</span><span class="na">getUserList</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>
			<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="o">|</span> <span class="n">XMLStreamException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre>
</div>

<hr />

<h4 id="output">OUTPUT</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>[
  { id : 1, name : Digvijay Bhakuni, userid : digvijayb, password : password1, gender : Male, age : 22, location : Gurgaon, India }, 
  { id : 2, name : Rahul Sharma, userid : rahuls, password : password2, gender : Male, age : 22, location : New Delhi, India },
  { id : 3, name : Pankaj Bhakser, userid : pbhakser, password : password3, gender : Male, age : 29, location : Gurgaon, India },
  { id : 4, name : Pankaj Mishar, userid : pankajm, password : password4, gender : Male, age : 23, location : Nodia, India },
  { id : 5, name : Ajay Garg, userid : ajayg, password : password5, gender : Male, age : 25, location : Gurgaon, India }
]
</code></pre>
</div>

<p>Please do comment and follow us for more interesting programming trick and tutorial.</p>



            <div class="spacing"></div>
            <span>Share : <span>
    <a href="https://twitter.com/intent/tweet?text=StAX Parser Example&url=http://dgstack.com/2015/08/01/StAx-Parser-Example/&via=DigvijayBhakuni&related=DGStack" class="share" rel="nofollow" target="_blank" title="Share On Twitter"><i class="fa fa-twitter"></i> Twitter</a> 
    <a href="https://facebook.com/sharer.php?u=http://dgstack.com/2015/08/01/StAx-Parser-Example/" class="share" rel="nofollow" target="_blank" title="Share On Facebok"><i class="fa fa-facebook"></i> Facebook</a>
    <a href="http://tumblr.com/widgets/share/tool?canonicalUrl=http://dgstack.com/2015/08/01/StAx-Parser-Example/" class="share" rel="nofollow" target="_blank" title="Share On Tumblr"><i class="fa fa-tumblr"></i> Tumblr</a>
    <a href="https://plus.google.com/share?url=http://dgstack.com/2015/08/01/StAx-Parser-Example/" class="share" rel="nofollow" target="_blank" title="Share On Google+"><i class="fa fa-google-plus"></i> Google+</a>
</span></span>
            <!--
            <h6>SHARE:</h6>
            <p class="share">
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-tumblr"></i></a>
                <a href="#"><i class="fa fa-google-plus"></i></a>		 		
            </p>
            -->
            
        </div><! --/col-lg-9 -->
        
        <div class="col-lg-3">
    
    <h4>Subscribe &amp; Social</h4>
    <div class="hline"></div>
    <p>
        <p class="rss-subscribe">Subscribe to this blog <a href="/feed.xml">via RSS</a>.</p>
    </p>
    <p>
        <div class="fb-like" data-href="https://www.facebook.com/dgstack" data-width="200" data-layout="standard" data-action="like" data-size="large" data-show-faces="true" data-share="true"></div>
    </p>
    <p>
        <a class="twitter-follow-button"
  href="https://twitter.com/DigvijayBhakuni"
  data-size="large">
Follow @DigvijayBhakuni</a>
    </p>
    <div class="spacing"></div>

    <h4>Recent Posts</h4>
    <div class="hline"></div>
    <ul class="popular-posts">
        
        <li>
            <a href="/2016/09/17/Web-Service-Jargon-JAXWS/"><img src="/assets/img/blog/thumbs/java.png" alt="Popular Post"></a>
            <p><a href="/2016/09/17/Web-Service-Jargon-JAXWS/">Web Service Jargon (JAX-WS)</a></p>
            <em>Posted on 17 Sep 2016</em>
        </li>
        
        <li>
            <a href="/2016/08/15/Spring-Annotation-Ref/"><img src="/assets/img/blog/thumbs/spring-logo.png" alt="Popular Post"></a>
            <p><a href="/2016/08/15/Spring-Annotation-Ref/">Spring Annotations</a></p>
            <em>Posted on 15 Aug 2016</em>
        </li>
        
        <li>
            <a href="/2016/07/15/Python3-Vs-Python2/"><img src="/assets/img/blog/thumbs/python.png" alt="Popular Post"></a>
            <p><a href="/2016/07/15/Python3-Vs-Python2/">Python3 vs Python2</a></p>
            <em>Posted on 15 Jul 2016</em>
        </li>
        
        <li>
            <a href="/2016/05/22/JVM-Lang-era/"><img src="/assets/img/blog/thumbs/java-duke.png" alt="Popular Post"></a>
            <p><a href="/2016/05/22/JVM-Lang-era/">Era of JVM language</a></p>
            <em>Posted on 22 May 2016</em>
        </li>
        
    </ul>

    <div class="spacing"></div>
    <h4>Categories</h4>
    <div class="hline"></div>
    
    <p>
        <a href="/category/#Java"><i class="fa fa-angle-right"></i> Java</a>
        <span class="badge badge-theme pull-right">10</span>
    </p>
    
    <p>
        <a href="/category/#Python"><i class="fa fa-angle-right"></i> Python</a>
        <span class="badge badge-theme pull-right">2</span>
    </p>
    

    <div class="spacing"></div>

    <h4>Popular Tags</h4>
    <div class="hline"></div>
    <p>
        
        <a class="btn btn-theme" href="/category/#Java" role="button">Java (10)</a> 
        <a class="btn btn-theme" href="/category/#Python" role="button">Python (2)</a> 
    </p>
    
</div>

    </div><! --/row -->
</div><! --/container -->

        <div id="footerwrap">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <h4>About</h4>
                <div class="hline-w"></div>
                <p>DGStack is web blog by digvijay bhakuni. This blog is about computer programming tips and trick. And some short tutorial and gettings started post about the framework, libriay, api and much more. The blog target mostly open source stuff like java, j2ee, nodeJs, angularJs, spring, struts, mongodb, mean, etc</p>
            </div>
            <div class="col-lg-4">
                <h4>Social Links</h4>
                <div class="hline-w"></div>
                <p>
                    
                        <a href="https://www.facebook.com/dgstack/" class="btn btn-theme"><i class="fa fa-facebook"></i> facebook</a>
                    
                        <a href="https://twitter.com/DigvijayBhakuni/" class="btn btn-theme"><i class="fa fa-twitter"></i> twitter</a>
                    
                        <a href="http://digvijayb.tumblr.com/" class="btn btn-theme"><i class="fa fa-tumblr"></i> tumblr</a>
                    
                </p>
            </div>
            <div class="col-lg-4">
                <h4>Disclamer</h4>
                <div class="hline-w"></div>
                <p>
                    This website claims no credit for any images posted on this site unless otherwise noted. Images on this blog are copyright to its respectful owners. If there is an image appearing on this blog that belongs to you and do not wish for it appear on this site, please E-mail with a link to said image and it will be promptly removed. And the information is best of my knowledge one can always write comment or mail regarding information is this blog.
                </p>
            </div>
        </div><! --/row -->
    </div><! --/container -->
</div><! --/footerwrap -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/retina-1.1.0.js"></script>
<script src="/assets/js/jquery.hoverdir.js"></script>
<script src="/assets/js/jquery.hoverex.min.js"></script>
<script src="/assets/js/jquery.prettyPhoto.js"></script>
<script src="/assets/js/jquery.isotope.min.js"></script>
<script src="/assets/js/custom.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60953284-1', 'auto');
  ga('send', 'pageview');

</script>

<script>
// Portfolio
(function($) {
	"use strict";
	var $container = $('.portfolio'),
		$items = $container.find('.portfolio-item'),
		portfolioLayout = 'fitRows';
		
		if( $container.hasClass('portfolio-centered') ) {
			portfolioLayout = 'masonry';
		}
				
		$container.isotope({
			filter: '*',
			animationEngine: 'best-available',
			layoutMode: portfolioLayout,
			animationOptions: {
			duration: 750,
			easing: 'linear',
			queue: false
		},
		masonry: {
		}
		}, refreshWaypoints());
		
		function refreshWaypoints() {
			setTimeout(function() {
			}, 1000);   
		}
				
		$('nav.portfolio-filter ul a').on('click', function() {
				var selector = $(this).attr('data-filter');
				$container.isotope({ filter: selector }, refreshWaypoints());
				$('nav.portfolio-filter ul a').removeClass('active');
				$(this).addClass('active');
				return false;
		});
		
		function getColumnNumber() { 
			var winWidth = $(window).width(), 
			columnNumber = 1;
		
			if (winWidth > 1200) {
				columnNumber = 5;
			} else if (winWidth > 950) {
				columnNumber = 4;
			} else if (winWidth > 600) {
				columnNumber = 3;
			} else if (winWidth > 400) {
				columnNumber = 2;
			} else if (winWidth > 250) {
				columnNumber = 1;
			}
				return columnNumber;
			}       
			
			function setColumns() {
				var winWidth = $(window).width(), 
				columnNumber = getColumnNumber(), 
				itemWidth = Math.floor(winWidth / columnNumber);
				
				$container.find('.portfolio-item').each(function() { 
					$(this).css( { 
					width : itemWidth + 'px' 
				});
			});
		}
		
		function setPortfolio() { 
			setColumns();
			$container.isotope('reLayout');
		}
			
		$container.imagesLoaded(function () { 
			setPortfolio();
		});
		
		$(window).on('resize', function () { 
		setPortfolio();          
	});
})(jQuery);
</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=978779875510857";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));</script>
    </body>
</html>